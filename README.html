<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1">

<style type="text/css">
@font-face {
font-family: octicons-link;
src: url(data:font/woff;charset=utf-8;base64,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) format('woff');
}
body {
-webkit-text-size-adjust: 100%;
text-size-adjust: 100%;
color: #333;
font-family: "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
font-size: 16px;
line-height: 1.6;
word-wrap: break-word;
}
a {
background-color: transparent;
}
a:active,
a:hover {
outline: 0;
}
strong {
font-weight: bold;
}
h1 {
font-size: 2em;
margin: 0.67em 0;
}
img {
border: 0;
}
hr {
box-sizing: content-box;
height: 0;
}
pre {
overflow: auto;
}
code,
kbd,
pre {
font-family: monospace, monospace;
font-size: 1em;
}
input {
color: inherit;
font: inherit;
margin: 0;
}
html input[disabled] {
cursor: default;
}
input {
line-height: normal;
}
input[type="checkbox"] {
box-sizing: border-box;
padding: 0;
}
table {
border-collapse: collapse;
border-spacing: 0;
}
td,
th {
padding: 0;
}
* {
box-sizing: border-box;
}
input {
font: 13px / 1.4 Helvetica, arial, nimbussansl, liberationsans, freesans, clean, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
}
a {
color: #4078c0;
text-decoration: none;
}
a:hover,
a:active {
text-decoration: underline;
}
hr {
height: 0;
margin: 15px 0;
overflow: hidden;
background: transparent;
border: 0;
border-bottom: 1px solid #ddd;
}
hr:before {
display: table;
content: "";
}
hr:after {
display: table;
clear: both;
content: "";
}
h1,
h2,
h3,
h4,
h5,
h6 {
margin-top: 15px;
margin-bottom: 15px;
line-height: 1.1;
}
h1 {
font-size: 30px;
}
h2 {
font-size: 21px;
}
h3 {
font-size: 16px;
}
h4 {
font-size: 14px;
}
h5 {
font-size: 12px;
}
h6 {
font-size: 11px;
}
blockquote {
margin: 0;
}
ul,
ol {
padding: 0;
margin-top: 0;
margin-bottom: 0;
}
ol ol,
ul ol {
list-style-type: lower-roman;
}
ul ul ol,
ul ol ol,
ol ul ol,
ol ol ol {
list-style-type: lower-alpha;
}
dd {
margin-left: 0;
}
code {
font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
font-size: 12px;
}
pre {
margin-top: 0;
margin-bottom: 0;
font: 12px Consolas, "Liberation Mono", Menlo, Courier, monospace;
}
.select::-ms-expand {
opacity: 0;
}
.octicon {
font: normal normal normal 16px/1 octicons-link;
display: inline-block;
text-decoration: none;
text-rendering: auto;
-webkit-font-smoothing: antialiased;
-moz-osx-font-smoothing: grayscale;
-webkit-user-select: none;
-moz-user-select: none;
-ms-user-select: none;
user-select: none;
}
.octicon-link:before {
content: '\f05c';
}
.markdown-body:before {
display: table;
content: "";
}
.markdown-body:after {
display: table;
clear: both;
content: "";
}
.markdown-body>*:first-child {
margin-top: 0 !important;
}
.markdown-body>*:last-child {
margin-bottom: 0 !important;
}
a:not([href]) {
color: inherit;
text-decoration: none;
}
.anchor {
display: inline-block;
padding-right: 2px;
margin-left: -18px;
}
.anchor:focus {
outline: none;
}
h1,
h2,
h3,
h4,
h5,
h6 {
margin-top: 1em;
margin-bottom: 16px;
font-weight: bold;
line-height: 1.4;
}
h1 .octicon-link,
h2 .octicon-link,
h3 .octicon-link,
h4 .octicon-link,
h5 .octicon-link,
h6 .octicon-link {
color: #000;
vertical-align: middle;
visibility: hidden;
}
h1:hover .anchor,
h2:hover .anchor,
h3:hover .anchor,
h4:hover .anchor,
h5:hover .anchor,
h6:hover .anchor {
text-decoration: none;
}
h1:hover .anchor .octicon-link,
h2:hover .anchor .octicon-link,
h3:hover .anchor .octicon-link,
h4:hover .anchor .octicon-link,
h5:hover .anchor .octicon-link,
h6:hover .anchor .octicon-link {
visibility: visible;
}
h1 {
padding-bottom: 0.3em;
font-size: 2.25em;
line-height: 1.2;
border-bottom: 1px solid #eee;
}
h1 .anchor {
line-height: 1;
}
h2 {
padding-bottom: 0.3em;
font-size: 1.75em;
line-height: 1.225;
border-bottom: 1px solid #eee;
}
h2 .anchor {
line-height: 1;
}
h3 {
font-size: 1.5em;
line-height: 1.43;
}
h3 .anchor {
line-height: 1.2;
}
h4 {
font-size: 1.25em;
}
h4 .anchor {
line-height: 1.2;
}
h5 {
font-size: 1em;
}
h5 .anchor {
line-height: 1.1;
}
h6 {
font-size: 1em;
color: #777;
}
h6 .anchor {
line-height: 1.1;
}
p,
blockquote,
ul,
ol,
dl,
table,
pre {
margin-top: 0;
margin-bottom: 16px;
}
hr {
height: 4px;
padding: 0;
margin: 16px 0;
background-color: #e7e7e7;
border: 0 none;
}
ul,
ol {
padding-left: 2em;
}
ul ul,
ul ol,
ol ol,
ol ul {
margin-top: 0;
margin-bottom: 0;
}
li>p {
margin-top: 16px;
}
dl {
padding: 0;
}
dl dt {
padding: 0;
margin-top: 16px;
font-size: 1em;
font-style: italic;
font-weight: bold;
}
dl dd {
padding: 0 16px;
margin-bottom: 16px;
}
blockquote {
padding: 0 15px;
color: #777;
border-left: 4px solid #ddd;
}
blockquote>:first-child {
margin-top: 0;
}
blockquote>:last-child {
margin-bottom: 0;
}
table {
display: block;
width: 100%;
overflow: auto;
word-break: normal;
word-break: keep-all;
}
table th {
font-weight: bold;
}
table th,
table td {
padding: 6px 13px;
border: 1px solid #ddd;
}
table tr {
background-color: #fff;
border-top: 1px solid #ccc;
}
table tr:nth-child(2n) {
background-color: #f8f8f8;
}
img {
max-width: 100%;
box-sizing: content-box;
background-color: #fff;
}
code {
padding: 0;
padding-top: 0.2em;
padding-bottom: 0.2em;
margin: 0;
font-size: 85%;
background-color: rgba(0,0,0,0.04);
border-radius: 3px;
}
code:before,
code:after {
letter-spacing: -0.2em;
content: "\00a0";
}
pre>code {
padding: 0;
margin: 0;
font-size: 100%;
word-break: normal;
white-space: pre;
background: transparent;
border: 0;
}
.highlight {
margin-bottom: 16px;
}
.highlight pre,
pre {
padding: 16px;
overflow: auto;
font-size: 85%;
line-height: 1.45;
background-color: #f7f7f7;
border-radius: 3px;
}
.highlight pre {
margin-bottom: 0;
word-break: normal;
}
pre {
word-wrap: normal;
}
pre code {
display: inline;
max-width: initial;
padding: 0;
margin: 0;
overflow: initial;
line-height: inherit;
word-wrap: normal;
background-color: transparent;
border: 0;
}
pre code:before,
pre code:after {
content: normal;
}
kbd {
display: inline-block;
padding: 3px 5px;
font-size: 11px;
line-height: 10px;
color: #555;
vertical-align: middle;
background-color: #fcfcfc;
border: solid 1px #ccc;
border-bottom-color: #bbb;
border-radius: 3px;
box-shadow: inset 0 -1px 0 #bbb;
}
.pl-c {
color: #969896;
}
.pl-c1,
.pl-s .pl-v {
color: #0086b3;
}
.pl-e,
.pl-en {
color: #795da3;
}
.pl-s .pl-s1,
.pl-smi {
color: #333;
}
.pl-ent {
color: #63a35c;
}
.pl-k {
color: #a71d5d;
}
.pl-pds,
.pl-s,
.pl-s .pl-pse .pl-s1,
.pl-sr,
.pl-sr .pl-cce,
.pl-sr .pl-sra,
.pl-sr .pl-sre {
color: #183691;
}
.pl-v {
color: #ed6a43;
}
.pl-id {
color: #b52a1d;
}
.pl-ii {
background-color: #b52a1d;
color: #f8f8f8;
}
.pl-sr .pl-cce {
color: #63a35c;
font-weight: bold;
}
.pl-ml {
color: #693a17;
}
.pl-mh,
.pl-mh .pl-en,
.pl-ms {
color: #1d3e81;
font-weight: bold;
}
.pl-mq {
color: #008080;
}
.pl-mi {
color: #333;
font-style: italic;
}
.pl-mb {
color: #333;
font-weight: bold;
}
.pl-md {
background-color: #ffecec;
color: #bd2c00;
}
.pl-mi1 {
background-color: #eaffea;
color: #55a532;
}
.pl-mdr {
color: #795da3;
font-weight: bold;
}
.pl-mo {
color: #1d3e81;
}
kbd {
display: inline-block;
padding: 3px 5px;
font: 11px Consolas, "Liberation Mono", Menlo, Courier, monospace;
line-height: 10px;
color: #555;
vertical-align: middle;
background-color: #fcfcfc;
border: solid 1px #ccc;
border-bottom-color: #bbb;
border-radius: 3px;
box-shadow: inset 0 -1px 0 #bbb;
}
.task-list-item {
list-style-type: none;
}
.task-list-item+.task-list-item {
margin-top: 3px;
}
.task-list-item input {
margin: 0 0.35em 0.25em -1.6em;
vertical-align: middle;
}
:checked+.radio-label {
z-index: 1;
position: relative;
border-color: #4078c0;
}
.sourceLine {
display: inline-block;
}
code .kw { color: #000000; }
code .dt { color: #ed6a43; }
code .dv { color: #009999; }
code .bn { color: #009999; }
code .fl { color: #009999; }
code .ch { color: #009999; }
code .st { color: #183691; }
code .co { color: #969896; }
code .ot { color: #0086b3; }
code .al { color: #a61717; }
code .fu { color: #63a35c; }
code .er { color: #a61717; background-color: #e3d2d2; }
code .wa { color: #000000; }
code .cn { color: #008080; }
code .sc { color: #008080; }
code .vs { color: #183691; }
code .ss { color: #183691; }
code .im { color: #000000; }
code .va {color: #008080; }
code .cf { color: #000000; }
code .op { color: #000000; }
code .bu { color: #000000; }
code .ex { color: #000000; }
code .pp { color: #999999; }
code .at { color: #008080; }
code .do { color: #969896; }
code .an { color: #008080; }
code .cv { color: #008080; }
code .in { color: #008080; }
</style>
<style>
body {
  box-sizing: border-box;
  min-width: 200px;
  max-width: 980px;
  margin: 0 auto;
  padding: 45px;
  padding-top: 0px;
}
</style>

</head>

<body>

<!-- README.md is generated from README.Rmd. Please edit that file -->

<pre><code>## Loading ds.predict.base
</code></pre>
<h1 id="base-predict-function-for-datashield">Base Predict Function for DataSHIELD</h1>
<h2 id="overview">Overview</h2>
<h2 id="installation">Installation</h2>
<h4 id="developer-version">Developer version:</h4>
<p>The package is currently hosted at a private GitLab repository. If access is granted, the installation can be done via <code>devtools</code>:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>cred =<span class="st"> </span>git2r<span class="op">::</span><span class="kw">cred_user_pass</span>(<span class="dt">username =</span> <span class="st">&quot;username&quot;</span>, <span class="dt">password =</span> <span class="st">&quot;password&quot;</span>)</span>
<span id="cb2-2"><a href="#cb2-2"></a>devtools<span class="op">::</span><span class="kw">install_git</span>(<span class="st">&quot;https://gitlab.lrz.de/difuture_analysegruppe/ds.predict.base.git&quot;</span>, <span class="dt">credentials =</span> cred)</span></code></pre></div>
<p>Note that you have to supply your username and password from GitLab to install the package.</p>
<h4 id="register-assign-methods">Register assign methods</h4>
<p>It is necessary to register the assign methods in the OPAL administration to use them. The assign methods are (with namespaces):</p>
<ul>
<li><code>ds.predict.base::decodeModel</code></li>
<li><code>ds.predict.base::assignPredictModel</code></li>
</ul>
<h2 id="usage">Usage</h2>
<p>The following code shows the basic methods and how to use them. Note that this package is intended for internal usage and base for the other packages and does not really have any practical usage for the analyst.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="kw">library</span>(DSI)</span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="co">#&gt; Loading required package: progress</span></span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="co">#&gt; Loading required package: R6</span></span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="kw">library</span>(DSOpal)</span>
<span id="cb3-5"><a href="#cb3-5"></a><span class="co">#&gt; Loading required package: opalr</span></span>
<span id="cb3-6"><a href="#cb3-6"></a><span class="co">#&gt; Loading required package: httr</span></span>
<span id="cb3-7"><a href="#cb3-7"></a><span class="kw">library</span>(DSLite)</span>
<span id="cb3-8"><a href="#cb3-8"></a><span class="kw">library</span>(dsBaseClient)</span>
<span id="cb3-9"><a href="#cb3-9"></a></span>
<span id="cb3-10"><a href="#cb3-10"></a><span class="co"># library(ds.predict.base)</span></span>
<span id="cb3-11"><a href="#cb3-11"></a></span>
<span id="cb3-12"><a href="#cb3-12"></a>builder =<span class="st"> </span>DSI<span class="op">::</span><span class="kw">newDSLoginBuilder</span>()</span>
<span id="cb3-13"><a href="#cb3-13"></a></span>
<span id="cb3-14"><a href="#cb3-14"></a>builder<span class="op">$</span><span class="kw">append</span>(</span>
<span id="cb3-15"><a href="#cb3-15"></a>  <span class="dt">server   =</span> <span class="st">&quot;ibe&quot;</span>,</span>
<span id="cb3-16"><a href="#cb3-16"></a>  <span class="dt">url      =</span> <span class="st">&quot;https://dsibe.ibe.med.uni-muenchen.de&quot;</span>,</span>
<span id="cb3-17"><a href="#cb3-17"></a>  <span class="dt">user     =</span> <span class="st">&quot;ibe&quot;</span>,</span>
<span id="cb3-18"><a href="#cb3-18"></a>  <span class="dt">password =</span> <span class="st">&quot;123456&quot;</span>,</span>
<span id="cb3-19"><a href="#cb3-19"></a>  <span class="dt">table    =</span> <span class="st">&quot;ProVal.KUM&quot;</span></span>
<span id="cb3-20"><a href="#cb3-20"></a>)</span>
<span id="cb3-21"><a href="#cb3-21"></a></span>
<span id="cb3-22"><a href="#cb3-22"></a>logindata =<span class="st"> </span>builder<span class="op">$</span><span class="kw">build</span>()</span>
<span id="cb3-23"><a href="#cb3-23"></a>connections =<span class="st"> </span>DSI<span class="op">::</span><span class="kw">datashield.login</span>(<span class="dt">logins =</span> logindata, <span class="dt">assign =</span> <span class="ot">TRUE</span>, <span class="dt">symbol =</span> <span class="st">&quot;D&quot;</span>, <span class="dt">opts =</span> <span class="kw">list</span>(<span class="dt">ssl_verifyhost =</span> <span class="dv">0</span>, <span class="dt">ssl_verifypeer=</span><span class="dv">0</span>))</span>
<span id="cb3-24"><a href="#cb3-24"></a><span class="co">#&gt; </span></span>
<span id="cb3-25"><a href="#cb3-25"></a><span class="co">#&gt; Logging into the collaborating servers</span></span>
<span id="cb3-26"><a href="#cb3-26"></a><span class="co">#&gt;   Logged in all servers [================================================================] 100% / 1s</span></span>
<span id="cb3-27"><a href="#cb3-27"></a><span class="co">#&gt; </span></span>
<span id="cb3-28"><a href="#cb3-28"></a><span class="co">#&gt;   No variables have been specified. </span></span>
<span id="cb3-29"><a href="#cb3-29"></a><span class="co">#&gt;   All the variables in the table </span></span>
<span id="cb3-30"><a href="#cb3-30"></a><span class="co">#&gt;   (the whole dataset) will be assigned to R!</span></span>
<span id="cb3-31"><a href="#cb3-31"></a><span class="co">#&gt; </span></span>
<span id="cb3-32"><a href="#cb3-32"></a><span class="co">#&gt; Assigning table data...</span></span>
<span id="cb3-33"><a href="#cb3-33"></a><span class="co">#&gt;   Assigned all tables [==================================================================] 100% / 2s</span></span>
<span id="cb3-34"><a href="#cb3-34"></a></span>
<span id="cb3-35"><a href="#cb3-35"></a><span class="co">### Get available tables:</span></span>
<span id="cb3-36"><a href="#cb3-36"></a>DSI<span class="op">::</span><span class="kw">datashield.symbols</span>(connections)</span>
<span id="cb3-37"><a href="#cb3-37"></a></span>
<span id="cb3-38"><a href="#cb3-38"></a><span class="co">### Test data with same structure as data on test server:</span></span>
<span id="cb3-39"><a href="#cb3-39"></a>dat   =<span class="st"> </span><span class="kw">cbind</span>(<span class="dt">age =</span> <span class="kw">sample</span>(<span class="dv">20</span><span class="op">:</span><span class="dv">100</span>, 100L, <span class="ot">TRUE</span>), <span class="dt">height =</span> <span class="kw">runif</span>(100L, <span class="dv">150</span>, <span class="dv">220</span>))</span>
<span id="cb3-40"><a href="#cb3-40"></a>probs =<span class="st"> </span><span class="dv">1</span> <span class="op">/</span><span class="st"> </span>(<span class="dv">1</span> <span class="op">+</span><span class="st"> </span><span class="kw">exp</span>(<span class="op">-</span><span class="kw">as.numeric</span>(dat <span class="op">%*%</span><span class="st"> </span><span class="kw">c</span>(<span class="op">-</span><span class="dv">3</span>, <span class="dv">1</span>))))</span>
<span id="cb3-41"><a href="#cb3-41"></a>dat   =<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">gender =</span> <span class="kw">rbinom</span>(100L, 1L, probs), dat)</span>
<span id="cb3-42"><a href="#cb3-42"></a></span>
<span id="cb3-43"><a href="#cb3-43"></a><span class="co">### Model we want to upload:</span></span>
<span id="cb3-44"><a href="#cb3-44"></a>mod =<span class="st"> </span><span class="kw">glm</span>(gender <span class="op">~</span><span class="st"> </span>age <span class="op">+</span><span class="st"> </span>height, <span class="dt">family =</span> <span class="st">&quot;binomial&quot;</span>, <span class="dt">data =</span> dat)</span>
<span id="cb3-45"><a href="#cb3-45"></a><span class="co">#&gt; Warning: glm.fit: algorithm did not converge</span></span>
<span id="cb3-46"><a href="#cb3-46"></a><span class="co">#&gt; Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred</span></span>
<span id="cb3-47"><a href="#cb3-47"></a></span>
<span id="cb3-48"><a href="#cb3-48"></a><span class="co">### Upload model to DataSHIELD server</span></span>
<span id="cb3-49"><a href="#cb3-49"></a><span class="kw">pushModel</span>(connections, mod)</span>
<span id="cb3-50"><a href="#cb3-50"></a><span class="co">#&gt;   Assigned expr. (mod &lt;- decodeModel(&quot;58-0a-00-00-00-03-00-04-00-00-00-03-05-00-00-00-00-05-55-54...</span></span>
<span id="cb3-51"><a href="#cb3-51"></a></span>
<span id="cb3-52"><a href="#cb3-52"></a><span class="co"># Check if model &quot;mod&quot; is now available:</span></span>
<span id="cb3-53"><a href="#cb3-53"></a>DSI<span class="op">::</span><span class="kw">datashield.symbols</span>(connections)</span>
<span id="cb3-54"><a href="#cb3-54"></a></span>
<span id="cb3-55"><a href="#cb3-55"></a><span class="co"># Check class of uploaded &quot;mod&quot;</span></span>
<span id="cb3-56"><a href="#cb3-56"></a><span class="kw">ds.class</span>(<span class="st">&quot;mod&quot;</span>)</span>
<span id="cb3-57"><a href="#cb3-57"></a><span class="co">#&gt;   Aggregated (exists(&quot;mod&quot;)) [===========================================================] 100% / 0s</span></span>
<span id="cb3-58"><a href="#cb3-58"></a><span class="co">#&gt;   Aggregated (classDS(&quot;mod&quot;)) [==========================================================] 100% / 0s</span></span>
<span id="cb3-59"><a href="#cb3-59"></a></span>
<span id="cb3-60"><a href="#cb3-60"></a><span class="co"># Now predict on uploaded model and data set D:</span></span>
<span id="cb3-61"><a href="#cb3-61"></a><span class="kw">predictModel</span>(connections, mod, <span class="st">&quot;pred&quot;</span>, <span class="dt">dat_name =</span> <span class="st">&quot;D&quot;</span>)</span>
<span id="cb3-62"><a href="#cb3-62"></a><span class="co">#&gt;   Assigned expr. (pred &lt;- assignPredictModel(&quot;58-0a-00-00-00-03-00-04-00-00-00-03-05-00-00-00-00-...</span></span>
<span id="cb3-63"><a href="#cb3-63"></a></span>
<span id="cb3-64"><a href="#cb3-64"></a><span class="co"># Check if prediction &quot;pred&quot; is now available:</span></span>
<span id="cb3-65"><a href="#cb3-65"></a>DSI<span class="op">::</span><span class="kw">datashield.symbols</span>(connections)</span>
<span id="cb3-66"><a href="#cb3-66"></a></span>
<span id="cb3-67"><a href="#cb3-67"></a><span class="co"># Summary of &quot;pred&quot;:</span></span>
<span id="cb3-68"><a href="#cb3-68"></a><span class="kw">ds.summary</span>(<span class="st">&quot;pred&quot;</span>)</span>
<span id="cb3-69"><a href="#cb3-69"></a><span class="co">#&gt;   Aggregated (exists(&quot;pred&quot;)) [==========================================================] 100% / 0s</span></span>
<span id="cb3-70"><a href="#cb3-70"></a><span class="co">#&gt;   Aggregated (classDS(&quot;pred&quot;)) [=========================================================] 100% / 0s</span></span>
<span id="cb3-71"><a href="#cb3-71"></a><span class="co">#&gt;   Aggregated (isValidDS(pred)) [=========================================================] 100% / 0s</span></span>
<span id="cb3-72"><a href="#cb3-72"></a><span class="co">#&gt;   Aggregated (lengthDS(&quot;pred&quot;)) [========================================================] 100% / 0s</span></span>
<span id="cb3-73"><a href="#cb3-73"></a><span class="co">#&gt;   Aggregated (quantileMeanDS(pred)) [====================================================] 100% / 0s</span></span>
<span id="cb3-74"><a href="#cb3-74"></a></span>
<span id="cb3-75"><a href="#cb3-75"></a><span class="co"># Now assign values with response type &quot;response&quot;:</span></span>
<span id="cb3-76"><a href="#cb3-76"></a><span class="kw">predictModel</span>(connections, mod, <span class="st">&quot;pred&quot;</span>, <span class="st">&quot;D&quot;</span>, <span class="dt">predict_fun =</span> <span class="st">&quot;predict(mod, newdata = D, type = &#39;response&#39;)&quot;</span>)</span>
<span id="cb3-77"><a href="#cb3-77"></a><span class="co">#&gt;   Assigned expr. (pred &lt;- assignPredictModel(&quot;58-0a-00-00-00-03-00-04-00-00-00-03-05-00-00-00-00-...</span></span>
<span id="cb3-78"><a href="#cb3-78"></a></span>
<span id="cb3-79"><a href="#cb3-79"></a><span class="kw">ds.summary</span>(<span class="st">&quot;pred&quot;</span>)</span>
<span id="cb3-80"><a href="#cb3-80"></a><span class="co">#&gt;   Aggregated (exists(&quot;pred&quot;)) [==========================================================] 100% / 0s</span></span>
<span id="cb3-81"><a href="#cb3-81"></a><span class="co">#&gt;   Aggregated (classDS(&quot;pred&quot;)) [=========================================================] 100% / 0s</span></span>
<span id="cb3-82"><a href="#cb3-82"></a><span class="co">#&gt;   Aggregated (isValidDS(pred)) [=========================================================] 100% / 0s</span></span>
<span id="cb3-83"><a href="#cb3-83"></a><span class="co">#&gt;   Aggregated (lengthDS(&quot;pred&quot;)) [========================================================] 100% / 0s</span></span>
<span id="cb3-84"><a href="#cb3-84"></a><span class="co">#&gt;   Aggregated (quantileMeanDS(pred)) [====================================================] 100% / 0s</span></span></code></pre></div>

</body>
</html>
